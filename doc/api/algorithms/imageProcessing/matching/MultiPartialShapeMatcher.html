<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (21) on Tue Jul 29 11:59:29 PDT 2025 -->
<title>MultiPartialShapeMatcher</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2025-07-29">
<meta name="description" content="declaration: package: algorithms.imageProcessing.matching, class: MultiPartialShapeMatcher">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li><a href="#nested-class-summary">Nested</a></li>
<li><a href="#field-summary">Field</a></li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li><a href="#field-detail">Field</a></li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">algorithms.imageProcessing.matching</a></div>
<h1 title="Class MultiPartialShapeMatcher" class="title">Class MultiPartialShapeMatcher</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">algorithms.imageProcessing.matching.MultiPartialShapeMatcher</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">MultiPartialShapeMatcher</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">A class to Query a closed curve's shape against a database of closed curve shapes
 and find the best <em>articulated</em> match for the Query
 based upon algorithm in paper
  "Efficient Partial Shape Matching
     of Outer Contours: by Donoser et al.
  implemented in PartialShapeMatcher.java

 <pre>

  The databases construction have r.t.c. O(L*(NS^2)) where NS is the common number of points
  all curves are resampled to and L is the number of curves.

  The Query construction has r.t.c. O(NS^2) and the search of Indexed embeddings is
  O(topK*log(topK)*log(NS)*log(L*NS*(log(NS^2))) where topK is the top results.

  Details of Index creation:
    - the indexes are instances of an approximate nearest neighbor library that indexes embeddings.
    The java enabled Spotify Voyager API is used for this purpose.
    - descriptor images for each closed curve are constructed following the algorithm by Donoser et al.
    in PartialShapeMatcher where the descriptor is part of the data structures built for
    for pairwise curve matching.  The descriptors are chord angles formed between relative orientations
    of a chord formed from the static reference point i, and a point j and a point j-1 as j marches
    around the curve.  N descriptors are formed with each point taking the role of the static reference
    point.  The final descriptor is then N X N where N is the number of points in the curve.
    - embeddings are made from each row of the descriptor, but offset to start at the reference point
    (which is the same as the row number).
    An embedding of length N is made for each row.
    And then log(N)-1 more embeddings are extracted for the curve starting at its reference point.
    e.g. if N=16 and row=2, we have the following embedding indexes (the embeddings would be vectors
    of the values for those descriptor chords at those indices):
    [2,3,4,5,6,7,8,9,10,11,12,13,14,15,0,1], [2,3,4,5,6,7,8,9], [2,3,4,5], [2,3]
    though the later would probably be dropped as being a smaller embedding than a minimum limit.
    And so the number of embeddings created is L*N*log(N).
    A Voyager Index is made for each unique length of the embeddings (i.e. log(N) or so Indexes are made)
    and the embeddings are stored in the Index for their length.
    =&gt; the runtime complexity for building the database is then O(L*N^2)

  Details of query:
    - a descriptor image is made for the Query and it is chopped up into embeddings just as the Indexed
    target shapes were.
    The runtime complexity for that is O(N^2).
    - each of the N*log(N) query embeddings are searched against the Index of same length.
    Each ANN search for the topK is log(N_I) where N_I is the number of items stored in the Index.
    There are log(N) different Indexes so the runtime complexity is something like O(N * log(N) * log(N_I)).
    - The topK results are kept and ordered over all searches using the Salukwdze comparison from PartialShapeMatcher.
    The runtime complexity is O(N * log(N) * log(topK))
    ==&gt; The overall runtime complexity of just the Query is then O(N^2).

 This algorithm could be implemented to use vectorization (intrinsics in SIMD or ISPC etc) and
 vector shifts and total embeddings being composed of 8-wide or 16-wide vectors.

 The Voyager Index API uses vectorization.

</pre></div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected static class&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="MultiPartialShapeMatcher.Indexer.html" class="type-name-link" title="class in algorithms.imageProcessing.matching">MultiPartialShapeMatcher.Indexer</a></code></div>
<div class="col-last even-row-color">
<div class="block">class to build and hold Voyager indexes of target curves</div>
</div>
<div class="col-first odd-row-color"><code>static class&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="MultiPartialShapeMatcher.Results.html" class="type-name-link" title="class in algorithms.imageProcessing.matching">MultiPartialShapeMatcher.Results</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected final int</code></div>
<div class="col-second even-row-color"><code><a href="#curveDimension" class="member-name-link">curveDimension</a></code></div>
<div class="col-last even-row-color">
<div class="block">the number of points that each closed curve will be scaled to.</div>
</div>
<div class="col-first odd-row-color"><code>protected final <a href="MultiPartialShapeMatcher.Indexer.html" title="class in algorithms.imageProcessing.matching">MultiPartialShapeMatcher.Indexer</a></code></div>
<div class="col-second odd-row-color"><code><a href="#indexer" class="member-name-link">indexer</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected final int</code></div>
<div class="col-second even-row-color"><code><a href="#minBlockSize" class="member-name-link">minBlockSize</a></code></div>
<div class="col-last even-row-color">
<div class="block">the smallest embedding length that will be used in creating internal indexes</div>
</div>
<div class="col-first odd-row-color"><code>protected final <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&gt;</code></div>
<div class="col-second odd-row-color"><code><a href="#originalIndexes" class="member-name-link">originalIndexes</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected final <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;algorithms.util.PairFloatArray&gt;</code></div>
<div class="col-second even-row-color"><code><a href="#targetCurves" class="member-name-link">targetCurves</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected final <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Float.html" title="class or interface in java.lang" class="external-link">Float</a>&gt;</code></div>
<div class="col-second odd-row-color"><code><a href="#unscaleFactors" class="member-name-link">unscaleFactors</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(int,int,java.util.List)" class="member-name-link">MultiPartialShapeMatcher</a><wbr>(int&nbsp;curveDimension,
 int&nbsp;minBlockSize,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;algorithms.util.PairFloatArray&gt;&nbsp;closedCurves)</code></div>
<div class="col-last even-row-color">
<div class="block">constructor.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>protected static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#addEmbeddingsToIndexes(float%5B%5D%5B%5D%5B%5D,algorithms.imageProcessing.matching.MultiPartialShapeMatcher.Indexer,int,java.util.List)" class="member-name-link">addEmbeddingsToIndexes</a><wbr>(float[][][]&nbsp;descriptors,
 <a href="MultiPartialShapeMatcher.Indexer.html" title="class in algorithms.imageProcessing.matching">MultiPartialShapeMatcher.Indexer</a>&nbsp;indexer,
 int&nbsp;minBlockSize,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Float.html" title="class or interface in java.lang" class="external-link">Float</a>&gt;&nbsp;unscaleFactors)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>protected static float</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#calcSalukDist(float,float,float,float)" class="member-name-link">calcSalukDist</a><wbr>(float&nbsp;compChord,
 float&nbsp;maxChord,
 float&nbsp;length,
 float&nbsp;maxMatchable)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static algorithms.util.PairFloatArray</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#convert(algorithms.util.PairIntArray)" class="member-name-link">convert</a><wbr>(algorithms.util.PairIntArray&nbsp;p)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;algorithms.util.PairFloatArray&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#convert(java.util.List)" class="member-name-link">convert</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;algorithms.util.PairIntArray&gt;&nbsp;p)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static float[][]</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#convertToArray(algorithms.util.PairFloatArray)" class="member-name-link">convertToArray</a><wbr>(algorithms.util.PairFloatArray&nbsp;p)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>protected static float[][][]</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#createDescriptors(int,int,java.util.List)" class="member-name-link">createDescriptors</a><wbr>(int&nbsp;curveDimension,
 int&nbsp;minBlockSize,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;algorithms.util.PairFloatArray&gt;&nbsp;closedCurves)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">create a descriptor image for each curve</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>protected static algorithms.util.PairFloatArray</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#createScaledCurve(algorithms.util.PairFloatArray,int)" class="member-name-link">createScaledCurve</a><wbr>(algorithms.util.PairFloatArray&nbsp;p,
 int&nbsp;curveDimension)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>protected static float</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#normalizeAndCalcSalukDist(float,float,float,float)" class="member-name-link">normalizeAndCalcSalukDist</a><wbr>(float&nbsp;compChord,
 float&nbsp;maxChord,
 float&nbsp;length,
 float&nbsp;maxMatchable)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="MultiPartialShapeMatcher.Results.html" title="class in algorithms.imageProcessing.matching">MultiPartialShapeMatcher.Results</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#query(algorithms.util.PairFloatArray,int)" class="member-name-link">query</a><wbr>(algorithms.util.PairFloatArray&nbsp;queryCurve,
 int&nbsp;topK)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">search for topK nearest neighbors to queryCurve in the shapes indexes.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="curveDimension">
<h3>curveDimension</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">curveDimension</span></div>
<div class="block">the number of points that each closed curve will be scaled to.</div>
</section>
</li>
<li>
<section class="detail" id="minBlockSize">
<h3>minBlockSize</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">minBlockSize</span></div>
<div class="block">the smallest embedding length that will be used in creating internal indexes</div>
</section>
</li>
<li>
<section class="detail" id="indexer">
<h3>indexer</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="MultiPartialShapeMatcher.Indexer.html" title="class in algorithms.imageProcessing.matching">MultiPartialShapeMatcher.Indexer</a></span>&nbsp;<span class="element-name">indexer</span></div>
</section>
</li>
<li>
<section class="detail" id="targetCurves">
<h3>targetCurves</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;algorithms.util.PairFloatArray&gt;</span>&nbsp;<span class="element-name">targetCurves</span></div>
</section>
</li>
<li>
<section class="detail" id="originalIndexes">
<h3>originalIndexes</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&gt;</span>&nbsp;<span class="element-name">originalIndexes</span></div>
</section>
</li>
<li>
<section class="detail" id="unscaleFactors">
<h3>unscaleFactors</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Float.html" title="class or interface in java.lang" class="external-link">Float</a>&gt;</span>&nbsp;<span class="element-name">unscaleFactors</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(int,int,java.util.List)">
<h3>MultiPartialShapeMatcher</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">MultiPartialShapeMatcher</span><wbr><span class="parameters">(int&nbsp;curveDimension,
 int&nbsp;minBlockSize,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;algorithms.util.PairFloatArray&gt;&nbsp;closedCurves)</span></div>
<div class="block">constructor.  r.t.c. is O(L*(NS^2)) where L is closedCurves.size() and NS = curveDimension.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>curveDimension</code> - all curves are scaled to this length</dd>
<dd><code>minBlockSize</code> - the smallest vector length that will be created during this search.  e.g. should be at least 3
 though practically you should consider minBlockSize &gt;= 0.1*curveDimension.</dd>
<dd><code>closedCurves</code> - the shapes to scale to curveDimension, create embeddings for, and store in internal
                     Indexes for future queries.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="addEmbeddingsToIndexes(float[][][],algorithms.imageProcessing.matching.MultiPartialShapeMatcher.Indexer,int,java.util.List)">
<h3>addEmbeddingsToIndexes</h3>
<div class="member-signature"><span class="modifiers">protected static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addEmbeddingsToIndexes</span><wbr><span class="parameters">(float[][][]&nbsp;descriptors,
 <a href="MultiPartialShapeMatcher.Indexer.html" title="class in algorithms.imageProcessing.matching">MultiPartialShapeMatcher.Indexer</a>&nbsp;indexer,
 int&nbsp;minBlockSize,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Float.html" title="class or interface in java.lang" class="external-link">Float</a>&gt;&nbsp;unscaleFactors)</span></div>
</section>
</li>
<li>
<section class="detail" id="query(algorithms.util.PairFloatArray,int)">
<h3>query</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="MultiPartialShapeMatcher.Results.html" title="class in algorithms.imageProcessing.matching">MultiPartialShapeMatcher.Results</a></span>&nbsp;<span class="element-name">query</span><wbr><span class="parameters">(algorithms.util.PairFloatArray&nbsp;queryCurve,
 int&nbsp;topK)</span></div>
<div class="block">search for topK nearest neighbors to queryCurve in the shapes indexes.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>queryCurve</code> - the query closed curve</dd>
<dd><code>topK</code> - the number of best results to return</dd>
<dt>Returns:</dt>
<dd>the nearest matched curves as the matching curves in their natural scale, the offset point
 that the match begins, the length of the match as the number of matching points, and the distance
 of the match.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="normalizeAndCalcSalukDist(float,float,float,float)">
<h3>normalizeAndCalcSalukDist</h3>
<div class="member-signature"><span class="modifiers">protected static</span>&nbsp;<span class="return-type">float</span>&nbsp;<span class="element-name">normalizeAndCalcSalukDist</span><wbr><span class="parameters">(float&nbsp;compChord,
 float&nbsp;maxChord,
 float&nbsp;length,
 float&nbsp;maxMatchable)</span></div>
</section>
</li>
<li>
<section class="detail" id="calcSalukDist(float,float,float,float)">
<h3>calcSalukDist</h3>
<div class="member-signature"><span class="modifiers">protected static</span>&nbsp;<span class="return-type">float</span>&nbsp;<span class="element-name">calcSalukDist</span><wbr><span class="parameters">(float&nbsp;compChord,
 float&nbsp;maxChord,
 float&nbsp;length,
 float&nbsp;maxMatchable)</span></div>
</section>
</li>
<li>
<section class="detail" id="createScaledCurve(algorithms.util.PairFloatArray,int)">
<h3>createScaledCurve</h3>
<div class="member-signature"><span class="modifiers">protected static</span>&nbsp;<span class="return-type">algorithms.util.PairFloatArray</span>&nbsp;<span class="element-name">createScaledCurve</span><wbr><span class="parameters">(algorithms.util.PairFloatArray&nbsp;p,
 int&nbsp;curveDimension)</span></div>
</section>
</li>
<li>
<section class="detail" id="convert(java.util.List)">
<h3>convert</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;algorithms.util.PairFloatArray&gt;</span>&nbsp;<span class="element-name">convert</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;algorithms.util.PairIntArray&gt;&nbsp;p)</span></div>
</section>
</li>
<li>
<section class="detail" id="convertToArray(algorithms.util.PairFloatArray)">
<h3>convertToArray</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">float[][]</span>&nbsp;<span class="element-name">convertToArray</span><wbr><span class="parameters">(algorithms.util.PairFloatArray&nbsp;p)</span></div>
</section>
</li>
<li>
<section class="detail" id="convert(algorithms.util.PairIntArray)">
<h3>convert</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">algorithms.util.PairFloatArray</span>&nbsp;<span class="element-name">convert</span><wbr><span class="parameters">(algorithms.util.PairIntArray&nbsp;p)</span></div>
</section>
</li>
<li>
<section class="detail" id="createDescriptors(int,int,java.util.List)">
<h3>createDescriptors</h3>
<div class="member-signature"><span class="modifiers">protected static</span>&nbsp;<span class="return-type">float[][][]</span>&nbsp;<span class="element-name">createDescriptors</span><wbr><span class="parameters">(int&nbsp;curveDimension,
 int&nbsp;minBlockSize,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;algorithms.util.PairFloatArray&gt;&nbsp;closedCurves)</span></div>
<div class="block">create a descriptor image for each curve</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>closedCurves</code> - </dd>
<dt>Returns:</dt>
<dd>descriptors array with dimensions: [closedCurves.size][this.curveDimension-1][this.curveDimension-1]</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
