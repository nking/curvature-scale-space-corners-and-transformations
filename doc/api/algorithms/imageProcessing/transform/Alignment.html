<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) on Fri Sep 13 18:45:45 PDT 2024 -->
<title>Alignment</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2024-09-13">
<meta name="description" content="declaration: package: algorithms.imageProcessing.transform, class: Alignment">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">algorithms.imageProcessing.transform</a></div>
<h1 title="Class Alignment" class="title">Class Alignment</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">algorithms.imageProcessing.transform.Alignment</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">Alignment</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">various 2D alignment methods.

 see AlignmentTest for various tests and methods to help choose which Alignment method(s) to use and
 a couple of ways to build keypoints.

 AlignmentTest shows use of a PhaseCongruency algorithm to smooth out the extremely variable or extremely textured
 details in images, like plant leafs and brick surfaces, etc. before making keypoint lists.

 AlignmentTest shows use of ORB corners to make keypoint lists:
         <pre>
         ORB orb1 = new ORB(gsImg, nPoints);
         orb1.overrideToNotCreateDescriptors();
         orb1.overrideToUseSingleScale();
         //orb1.overrideToCreateCurvaturePoints();
         orb1.overrideToAlsoCreate1stDerivKeypoints();
         orb1.detectAndExtract();
         List<PairInt> kp1 = orb1.getAllKeyPoints();
        </pre>

     One could use a pyramidal approach to image down-sampling to handle the geometrical scale ratios between template
 and image (a wrapper around invocations of these method) to find the solution with
     the smallest re-projection error over all scales.

     <pre>
     for 2D affine warps:
     one could decompose a warp matrix into the 7 unknown variables:
     for 2D affine, rotation is 1 variable, shear is 2 variables, translation is 2 variables, scale is 2 variables,
     so the total is 7 unknown variables encapsulated in the 6 numbers of the affine projection matrix.

     here are the separate matrices for the 2D transformations:
     [1  0  t_x ]  for translation
     [0  1  t_y ]
     [0  0   1  ]

     [s_x  0    0 ]  for scale
     [0    s_y  0 ]
     [0    0    1 ]

     [cos(th)  -sin(th)  0 ]  for rotation
     [sin(th)  cos(th)   0 ]
     [0         0        1 ]

     [0     sh_x  0 ]  for shear
     [sh_y  0     0 ]
     [0     0     1  ]

     a[0][0] and a[1][1] terms must be &lt;= 1 for the rotation component in 2D affine.

     For 2D affine, one could use a pyramidal approach to constrain the x and y scales within some feasible range,
     reducing the number of variables to solve for to 5 and one could isolate the upper 2x2 left of the
     warp (2D affine) matrix to these terms:

     [ sh_x * sin(th)   sh_x * cos(th) ]
     [ sh_y * cos(th)  -sh_y * sin(th)  ]
     One can form ratios of terms to solve for th, then plug to solve for sh_x and sh_y.

     tx and t_y are solved for in the last column of the warp with the caveat that the scale has been factored into them.
     </pre>

     If one needs a 2D affine solution, and this is not producing good results, consider use of
     Reconstruction or CameraPose or epipolar methods.</div>
<dl class="notes">
<dt>Author:</dt>
<dd>nichole</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected static class&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="Alignment.Result.html" class="type-name-link" title="class in algorithms.imageProcessing.transform">Alignment.Result</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>(package private) static enum&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="Alignment.Type.html" class="type-name-link" title="enum class in algorithms.imageProcessing.transform">Alignment.Type</a></code></div>
<div class="col-last odd-row-color">
<div class="block">2-D translation is translation in x and translation in y.</div>
</div>
<div class="col-first even-row-color"><code>protected static class&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="Alignment.Warps.html" class="type-name-link" title="class in algorithms.imageProcessing.transform">Alignment.Warps</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected static double[]</code></div>
<div class="col-second even-row-color"><code><a href="#kernel" class="member-name-link">kernel</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">Alignment</a>()</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#improveEstimatesUsingAllWarps(algorithms.imageProcessing.transform.Alignment.Warps,double%5B%5D%5B%5D,double%5B%5D%5B%5D,int%5B%5D%5B%5D,int,int)" class="member-name-link">improveEstimatesUsingAllWarps</a><wbr>(<a href="Alignment.Warps.html" title="class in algorithms.imageProcessing.transform">Alignment.Warps</a>&nbsp;warps,
 double[][]&nbsp;im1,
 double[][]&nbsp;im2,
 int[][]&nbsp;yXKeypoints,
 int&nbsp;hX,
 int&nbsp;hY)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">applies all warps to each keypoint and uses the warp giving the smallest re-projection error (using lp=1
 and abs value comparisons).</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="Alignment.Warps.html" title="class in algorithms.imageProcessing.transform">Alignment.Warps</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#inverseComposition2DTranslationKeypoints(double%5B%5D%5B%5D,double%5B%5D%5B%5D,double%5B%5D,int,double,int%5B%5D%5B%5D,int,int,algorithms.imageProcessing.transform.Alignment.Type)" class="member-name-link">inverseComposition2DTranslationKeypoints</a><wbr>(double[][]&nbsp;template,
 double[][]&nbsp;image,
 double[]&nbsp;xYInit,
 int&nbsp;maxIter,
 double&nbsp;eps,
 int[][]&nbsp;yXKeypoints,
 int&nbsp;hX,
 int&nbsp;hY,
 <a href="Alignment.Type.html" title="enum class in algorithms.imageProcessing.transform">Alignment.Type</a>&nbsp;type)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">2D alignment method for each keypoint in windows of half widths hX and hY.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="Alignment.Warps.html" title="class in algorithms.imageProcessing.transform">Alignment.Warps</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#inverseComposition2DTranslationKeypointsCpImgs(double%5B%5D%5B%5D,double%5B%5D%5B%5D,double%5B%5D,int,double,int%5B%5D%5B%5D,int,int,algorithms.imageProcessing.transform.Alignment.Type)" class="member-name-link">inverseComposition2DTranslationKeypointsCpImgs</a><wbr>(double[][]&nbsp;template,
 double[][]&nbsp;image,
 double[]&nbsp;xYInit,
 int&nbsp;maxIter,
 double&nbsp;eps,
 int[][]&nbsp;yXKeypoints,
 int&nbsp;hX,
 int&nbsp;hY,
 <a href="Alignment.Type.html" title="enum class in algorithms.imageProcessing.transform">Alignment.Type</a>&nbsp;type)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">2D alignment method for each keypoint in windows of half widths hX and hY.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static double[]</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#inverseCompositional(double%5B%5D%5B%5D,double%5B%5D%5B%5D,double%5B%5D%5B%5D,int,algorithms.imageProcessing.transform.Alignment.Type,double)" class="member-name-link">inverseCompositional</a><wbr>(double[][]&nbsp;template,
 double[][]&nbsp;image,
 double[][]&nbsp;pInit,
 int&nbsp;maxIter,
 <a href="Alignment.Type.html" title="enum class in algorithms.imageProcessing.transform">Alignment.Type</a>&nbsp;type,
 double&nbsp;eps)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static double[]</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#inverseCompositional(double%5B%5D%5B%5D,double%5B%5D%5B%5D,int,int,int,int,double%5B%5D%5B%5D,int,algorithms.imageProcessing.transform.Alignment.Type,double)" class="member-name-link">inverseCompositional</a><wbr>(double[][]&nbsp;template,
 double[][]&nbsp;image,
 int&nbsp;x,
 int&nbsp;y,
 int&nbsp;hX,
 int&nbsp;hY,
 double[][]&nbsp;pInit,
 int&nbsp;maxIter,
 <a href="Alignment.Type.html" title="enum class in algorithms.imageProcessing.transform">Alignment.Type</a>&nbsp;type,
 double&nbsp;eps)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static double[]</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#inverseCompositional2DAffine(double%5B%5D%5B%5D,double%5B%5D%5B%5D,double%5B%5D%5B%5D,int,double)" class="member-name-link">inverseCompositional2DAffine</a><wbr>(double[][]&nbsp;template,
 double[][]&nbsp;image,
 double[][]&nbsp;pInit,
 int&nbsp;maxIter,
 double&nbsp;eps)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static double[]</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#inverseCompositional2DTranslation(double%5B%5D%5B%5D,double%5B%5D%5B%5D,double%5B%5D,int,double)" class="member-name-link">inverseCompositional2DTranslation</a><wbr>(double[][]&nbsp;template,
 double[][]&nbsp;image,
 double[]&nbsp;xYInit,
 int&nbsp;maxIter,
 double&nbsp;eps)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">find the x and y translations that best align the template to the image.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="Alignment.Warps.html" title="class in algorithms.imageProcessing.transform">Alignment.Warps</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#inverseCompositionKeypoints(double%5B%5D%5B%5D,double%5B%5D%5B%5D,double%5B%5D%5B%5D,int,double,int%5B%5D%5B%5D,int,int,algorithms.imageProcessing.transform.Alignment.Type)" class="member-name-link">inverseCompositionKeypoints</a><wbr>(double[][]&nbsp;template,
 double[][]&nbsp;image,
 double[][]&nbsp;pInit,
 int&nbsp;maxIter,
 double&nbsp;eps,
 int[][]&nbsp;yXKeypoints,
 int&nbsp;hX,
 int&nbsp;hY,
 <a href="Alignment.Type.html" title="enum class in algorithms.imageProcessing.transform">Alignment.Type</a>&nbsp;type)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">2D alignment for each keypoint in windows of half widths hX and hY.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>(package private) static <a href="Alignment.Warps.html" title="class in algorithms.imageProcessing.transform">Alignment.Warps</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#inverseCompositionKeypoints2DAffinePre2DTrans(double%5B%5D%5B%5D,double%5B%5D%5B%5D,int,double,int%5B%5D%5B%5D,int,int)" class="member-name-link">inverseCompositionKeypoints2DAffinePre2DTrans</a><wbr>(double[][]&nbsp;template,
 double[][]&nbsp;image,
 int&nbsp;maxIter,
 double&nbsp;eps,
 int[][]&nbsp;yXKeypoints,
 int&nbsp;hX,
 int&nbsp;hY)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="Alignment.Warps.html" title="class in algorithms.imageProcessing.transform">Alignment.Warps</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#inverseCompositionKeypointsCpImgs(double%5B%5D%5B%5D,double%5B%5D%5B%5D,double%5B%5D%5B%5D,int,double,int%5B%5D%5B%5D,int,int,algorithms.imageProcessing.transform.Alignment.Type)" class="member-name-link">inverseCompositionKeypointsCpImgs</a><wbr>(double[][]&nbsp;template,
 double[][]&nbsp;image,
 double[][]&nbsp;pInit,
 int&nbsp;maxIter,
 double&nbsp;eps,
 int[][]&nbsp;yXKeypoints,
 int&nbsp;hX,
 int&nbsp;hY,
 <a href="Alignment.Type.html" title="enum class in algorithms.imageProcessing.transform">Alignment.Type</a>&nbsp;type)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">2D alignment method for each keypoint in windows of half widths hX and hY.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>(package private) static <a href="Alignment.Warps.html" title="class in algorithms.imageProcessing.transform">Alignment.Warps</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#inverseCompositionKeypointsCpImgs2DAffinePre2DTrans(double%5B%5D%5B%5D,double%5B%5D%5B%5D,int,double,int%5B%5D%5B%5D,int,int)" class="member-name-link">inverseCompositionKeypointsCpImgs2DAffinePre2DTrans</a><wbr>(double[][]&nbsp;template,
 double[][]&nbsp;image,
 int&nbsp;maxIter,
 double&nbsp;eps,
 int[][]&nbsp;yXKeypoints,
 int&nbsp;hX,
 int&nbsp;hY)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">2D AFFINE alignment method for each keypoint in windows of half widths hX and hY.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="kernel">
<h3>kernel</h3>
<div class="member-signature"><span class="modifiers">protected static</span>&nbsp;<span class="return-type">double[]</span>&nbsp;<span class="element-name">kernel</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>Alignment</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">Alignment</span>()</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="inverseCompositional2DAffine(double[][],double[][],double[][],int,double)">
<h3>inverseCompositional2DAffine</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">double[]</span>&nbsp;<span class="element-name">inverseCompositional2DAffine</span><wbr><span class="parameters">(double[][]&nbsp;template,
 double[][]&nbsp;image,
 double[][]&nbsp;pInit,
 int&nbsp;maxIter,
 double&nbsp;eps)</span>
                                             throws <span class="exceptions">no.uib.cipr.matrix.NotConvergedException,
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code>no.uib.cipr.matrix.NotConvergedException</code></dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="inverseCompositional2DTranslation(double[][],double[][],double[],int,double)">
<h3>inverseCompositional2DTranslation</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">double[]</span>&nbsp;<span class="element-name">inverseCompositional2DTranslation</span><wbr><span class="parameters">(double[][]&nbsp;template,
 double[][]&nbsp;image,
 double[]&nbsp;xYInit,
 int&nbsp;maxIter,
 double&nbsp;eps)</span>
                                                  throws <span class="exceptions">no.uib.cipr.matrix.NotConvergedException,
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">find the x and y translations that best align the template to the image.

   <pre>
   reference:
   Figure 4 of
   Baker &amp; Matthews, 2016, CMU-RI-TR-02-16
   "Lucas-Kanade 20 Years On: A Unifying Framework: Part 1"
   </pre></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>template</code> - </dd>
<dd><code>image</code> - </dd>
<dd><code>xYInit</code> - an array of length 2 holding the x initial guess (can be 0) and y initial guess (can be 0) for
               translations of a pixel in template to match a pixel in image.
              NOTE that the final solution is written into this array.
              xYInit is an in-out variable.</dd>
<dd><code>maxIter</code> - the maximum number of iterations to perform</dd>
<dt>Returns:</dt>
<dd>returns the square root of the sum of squared error image values where error image is the difference between
    the warped image and the template.  Note that the solution x and y offsets are written into xYInit.
     Also returns the number of iterations used.</dd>
<dt>Throws:</dt>
<dd><code>no.uib.cipr.matrix.NotConvergedException</code></dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="inverseCompositional(double[][],double[][],double[][],int,algorithms.imageProcessing.transform.Alignment.Type,double)">
<h3>inverseCompositional</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">double[]</span>&nbsp;<span class="element-name">inverseCompositional</span><wbr><span class="parameters">(double[][]&nbsp;template,
 double[][]&nbsp;image,
 double[][]&nbsp;pInit,
 int&nbsp;maxIter,
 <a href="Alignment.Type.html" title="enum class in algorithms.imageProcessing.transform">Alignment.Type</a>&nbsp;type,
 double&nbsp;eps)</span>
                                     throws <span class="exceptions">no.uib.cipr.matrix.NotConvergedException,
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code>no.uib.cipr.matrix.NotConvergedException</code></dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="inverseCompositional(double[][],double[][],int,int,int,int,double[][],int,algorithms.imageProcessing.transform.Alignment.Type,double)">
<h3>inverseCompositional</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">double[]</span>&nbsp;<span class="element-name">inverseCompositional</span><wbr><span class="parameters">(double[][]&nbsp;template,
 double[][]&nbsp;image,
 int&nbsp;x,
 int&nbsp;y,
 int&nbsp;hX,
 int&nbsp;hY,
 double[][]&nbsp;pInit,
 int&nbsp;maxIter,
 <a href="Alignment.Type.html" title="enum class in algorithms.imageProcessing.transform">Alignment.Type</a>&nbsp;type,
 double&nbsp;eps)</span>
                                     throws <span class="exceptions">no.uib.cipr.matrix.NotConvergedException,
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code>no.uib.cipr.matrix.NotConvergedException</code></dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="inverseComposition2DTranslationKeypointsCpImgs(double[][],double[][],double[],int,double,int[][],int,int,algorithms.imageProcessing.transform.Alignment.Type)">
<h3>inverseComposition2DTranslationKeypointsCpImgs</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="Alignment.Warps.html" title="class in algorithms.imageProcessing.transform">Alignment.Warps</a></span>&nbsp;<span class="element-name">inverseComposition2DTranslationKeypointsCpImgs</span><wbr><span class="parameters">(double[][]&nbsp;template,
 double[][]&nbsp;image,
 double[]&nbsp;xYInit,
 int&nbsp;maxIter,
 double&nbsp;eps,
 int[][]&nbsp;yXKeypoints,
 int&nbsp;hX,
 int&nbsp;hY,
 <a href="Alignment.Type.html" title="enum class in algorithms.imageProcessing.transform">Alignment.Type</a>&nbsp;type)</span>
                                                                      throws <span class="exceptions">no.uib.cipr.matrix.NotConvergedException,
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">2D alignment method for each keypoint in windows of half widths hX and hY.
 NOTE that internally, this method copies the window sections into images of those dimensions to calculate the
 warps.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>template</code> - </dd>
<dd><code>image</code> - </dd>
<dd><code>xYInit</code> - </dd>
<dd><code>maxIter</code> - </dd>
<dd><code>eps</code> - e.g. 0.1 or 0.5</dd>
<dd><code>yXKeypoints</code> - a 2-D array of size [nKeypoints x 2] of keypoints to calculate affine warp at.
                  Note that the keypoints should not be closer to the image bounds than patchHalfWidth.
                    The keypoints are given as pairs of {y, x} coordinates.</dd>
<dd><code>hX</code> - half width of window around keypoint in x dimension.</dd>
<dd><code>hY</code> - half width of window around keypoint in y dimension.</dd>
<dt>Returns:</dt>
<dt>Throws:</dt>
<dd><code>no.uib.cipr.matrix.NotConvergedException</code></dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="inverseComposition2DTranslationKeypoints(double[][],double[][],double[],int,double,int[][],int,int,algorithms.imageProcessing.transform.Alignment.Type)">
<h3>inverseComposition2DTranslationKeypoints</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="Alignment.Warps.html" title="class in algorithms.imageProcessing.transform">Alignment.Warps</a></span>&nbsp;<span class="element-name">inverseComposition2DTranslationKeypoints</span><wbr><span class="parameters">(double[][]&nbsp;template,
 double[][]&nbsp;image,
 double[]&nbsp;xYInit,
 int&nbsp;maxIter,
 double&nbsp;eps,
 int[][]&nbsp;yXKeypoints,
 int&nbsp;hX,
 int&nbsp;hY,
 <a href="Alignment.Type.html" title="enum class in algorithms.imageProcessing.transform">Alignment.Type</a>&nbsp;type)</span>
                                                                throws <span class="exceptions">no.uib.cipr.matrix.NotConvergedException,
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">2D alignment method for each keypoint in windows of half widths hX and hY.
 NOTE that internally, the method operates on windows in the full images rather than copying the windows
 to smaller images as is done in inverseCompositionKeypointsCpImgs.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>template</code> - </dd>
<dd><code>image</code> - </dd>
<dd><code>xYInit</code> - </dd>
<dd><code>maxIter</code> - </dd>
<dd><code>eps</code> - e.g. 0.1 or 0.5</dd>
<dd><code>yXKeypoints</code> - a 2-D array of size [nKeypoints x 2] of keypoints to calculate affine warp at.
                  Note that the keypoints should not be closer to the image bounds than patchHalfWidth.</dd>
<dd><code>hX</code> - half width of window around keypoint in x dimension.</dd>
<dd><code>hY</code> - half width of window around keypoint in y dimension.</dd>
<dt>Returns:</dt>
<dt>Throws:</dt>
<dd><code>no.uib.cipr.matrix.NotConvergedException</code></dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="inverseCompositionKeypointsCpImgs(double[][],double[][],double[][],int,double,int[][],int,int,algorithms.imageProcessing.transform.Alignment.Type)">
<h3>inverseCompositionKeypointsCpImgs</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="Alignment.Warps.html" title="class in algorithms.imageProcessing.transform">Alignment.Warps</a></span>&nbsp;<span class="element-name">inverseCompositionKeypointsCpImgs</span><wbr><span class="parameters">(double[][]&nbsp;template,
 double[][]&nbsp;image,
 double[][]&nbsp;pInit,
 int&nbsp;maxIter,
 double&nbsp;eps,
 int[][]&nbsp;yXKeypoints,
 int&nbsp;hX,
 int&nbsp;hY,
 <a href="Alignment.Type.html" title="enum class in algorithms.imageProcessing.transform">Alignment.Type</a>&nbsp;type)</span>
                                                         throws <span class="exceptions">no.uib.cipr.matrix.NotConvergedException,
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">2D alignment method for each keypoint in windows of half widths hX and hY.
 NOTE that internally, this method copies the window sections into images of those dimensions to calculate the
 warps.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>template</code> - </dd>
<dd><code>image</code> - </dd>
<dd><code>pInit</code> - the initial projection matrix of size [2 rows X 3 columns].
     It should be composed of { {1 + affine[0][0], affine[0][1], transX},
     {affine[1][0], 1 + affine[1][1], transY}}.
     e.g. {{1,0,0},{0,1,0}}</dd>
<dd><code>maxIter</code> - </dd>
<dd><code>eps</code> - </dd>
<dd><code>yXKeypoints</code> - a 2-D array of size [nKeypoints x 2] of keypoints to calculate affine warp at.
                  Note that the keypoints should not be closer to the image bounds than patchHalfWidth.
                    need at least 3 points for the 2D affine.</dd>
<dd><code>hX</code> - half width of window around keypoint in x dimension.</dd>
<dd><code>hY</code> - half width of window around keypoint in y dimension.</dd>
<dt>Returns:</dt>
<dt>Throws:</dt>
<dd><code>no.uib.cipr.matrix.NotConvergedException</code></dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="inverseCompositionKeypointsCpImgs2DAffinePre2DTrans(double[][],double[][],int,double,int[][],int,int)">
<h3>inverseCompositionKeypointsCpImgs2DAffinePre2DTrans</h3>
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="return-type"><a href="Alignment.Warps.html" title="class in algorithms.imageProcessing.transform">Alignment.Warps</a></span>&nbsp;<span class="element-name">inverseCompositionKeypointsCpImgs2DAffinePre2DTrans</span><wbr><span class="parameters">(double[][]&nbsp;template,
 double[][]&nbsp;image,
 int&nbsp;maxIter,
 double&nbsp;eps,
 int[][]&nbsp;yXKeypoints,
 int&nbsp;hX,
 int&nbsp;hY)</span>
                                                                    throws <span class="exceptions">no.uib.cipr.matrix.NotConvergedException,
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">2D AFFINE alignment method for each keypoint in windows of half widths hX and hY.
 NOTE that internally, this method copies the window sections into images of those dimensions to calculate the
 warps.  Also note that the 2D translation over the whole images is first calculated
 and used to initialize the projection matrix which has affine and translation terms.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>template</code> - </dd>
<dd><code>image</code> - </dd>
<dd><code>maxIter</code> - </dd>
<dd><code>eps</code> - </dd>
<dd><code>yXKeypoints</code> - a 2-D array of size [nKeypoints x 2] of keypoints to calculate affine warp at.
                  Note that the keypoints should not be closer to the image bounds than patchHalfWidth.
                    need at least 3 points for the 2D affine.</dd>
<dd><code>hX</code> - half width of window around keypoint in x dimension.</dd>
<dd><code>hY</code> - half width of window around keypoint in y dimension.</dd>
<dt>Returns:</dt>
<dt>Throws:</dt>
<dd><code>no.uib.cipr.matrix.NotConvergedException</code></dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="inverseCompositionKeypoints(double[][],double[][],double[][],int,double,int[][],int,int,algorithms.imageProcessing.transform.Alignment.Type)">
<h3>inverseCompositionKeypoints</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="Alignment.Warps.html" title="class in algorithms.imageProcessing.transform">Alignment.Warps</a></span>&nbsp;<span class="element-name">inverseCompositionKeypoints</span><wbr><span class="parameters">(double[][]&nbsp;template,
 double[][]&nbsp;image,
 double[][]&nbsp;pInit,
 int&nbsp;maxIter,
 double&nbsp;eps,
 int[][]&nbsp;yXKeypoints,
 int&nbsp;hX,
 int&nbsp;hY,
 <a href="Alignment.Type.html" title="enum class in algorithms.imageProcessing.transform">Alignment.Type</a>&nbsp;type)</span>
                                                   throws <span class="exceptions">no.uib.cipr.matrix.NotConvergedException,
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">2D alignment for each keypoint in windows of half widths hX and hY.
 NOTE that internally, the method operates on windows in the full images rather than copying the windows
 to smaller images as is done in inverseCompositionKeypointsCpImgs.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>template</code> - </dd>
<dd><code>image</code> - </dd>
<dd><code>pInit</code> - the initial projection matrix of size [2 rows X 3 columns].
     It should be composed of { {1 + affine[0][0], affine[0][1], transX},
     {affine[1][0], 1 + affine[1][1], transY}}.
     e.g. {{1,0,0},{0,1,0}}</dd>
<dd><code>maxIter</code> - </dd>
<dd><code>eps</code> - </dd>
<dd><code>yXKeypoints</code> - a 2-D array of size [nKeypoints x 2] of keypoints to calculate affine warp at.
                  Note that the keypoints should not be closer to the image bounds than patchHalfWidth.
                    need at least 3 points for the 2D affine.</dd>
<dd><code>hX</code> - half width of window around keypoint in x dimension.</dd>
<dd><code>hY</code> - half width of window around keypoint in y dimension.</dd>
<dt>Returns:</dt>
<dt>Throws:</dt>
<dd><code>no.uib.cipr.matrix.NotConvergedException</code></dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="inverseCompositionKeypoints2DAffinePre2DTrans(double[][],double[][],int,double,int[][],int,int)">
<h3>inverseCompositionKeypoints2DAffinePre2DTrans</h3>
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="return-type"><a href="Alignment.Warps.html" title="class in algorithms.imageProcessing.transform">Alignment.Warps</a></span>&nbsp;<span class="element-name">inverseCompositionKeypoints2DAffinePre2DTrans</span><wbr><span class="parameters">(double[][]&nbsp;template,
 double[][]&nbsp;image,
 int&nbsp;maxIter,
 double&nbsp;eps,
 int[][]&nbsp;yXKeypoints,
 int&nbsp;hX,
 int&nbsp;hY)</span>
                                                              throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a>,
no.uib.cipr.matrix.NotConvergedException</span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
<dd><code>no.uib.cipr.matrix.NotConvergedException</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="improveEstimatesUsingAllWarps(algorithms.imageProcessing.transform.Alignment.Warps,double[][],double[][],int[][],int,int)">
<h3>improveEstimatesUsingAllWarps</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">improveEstimatesUsingAllWarps</span><wbr><span class="parameters">(<a href="Alignment.Warps.html" title="class in algorithms.imageProcessing.transform">Alignment.Warps</a>&nbsp;warps,
 double[][]&nbsp;im1,
 double[][]&nbsp;im2,
 int[][]&nbsp;yXKeypoints,
 int&nbsp;hX,
 int&nbsp;hY)</span></div>
<div class="block">applies all warps to each keypoint and uses the warp giving the smallest re-projection error (using lp=1
 and abs value comparisons).  A feasibility conditional is used also, but may need to be
 revised for different use cases.  This one makes an assumption that scale is the most important contributor
 to warp[0][0] and warp[1][1] and then discards a warp if the translation in x / warp[0][0] .gt. hX
 or translation in y / warp[1][1] .gt. hY. ... The feasibility conditional ignores shear.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>warps</code> - </dd>
<dd><code>im1</code> - </dd>
<dd><code>im2</code> - </dd>
<dd><code>yXKeypoints</code> - </dd>
<dd><code>hX</code> - </dd>
<dd><code>hY</code> - </dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
