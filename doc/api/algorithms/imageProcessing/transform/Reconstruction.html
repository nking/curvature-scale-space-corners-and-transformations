<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_131) on Mon Oct 11 15:28:24 PDT 2021 -->
<title>Reconstruction</title>
<meta name="date" content="2021-10-11">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Reconstruction";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":9,"i3":9,"i4":9,"i5":9,"i6":9,"i7":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../algorithms/imageProcessing/transform/PNP.html" title="class in algorithms.imageProcessing.transform"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../algorithms/imageProcessing/transform/Reconstruction.OrthographicProjectionResults.html" title="class in algorithms.imageProcessing.transform"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?algorithms/imageProcessing/transform/Reconstruction.html" target="_top">Frames</a></li>
<li><a href="Reconstruction.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">algorithms.imageProcessing.transform</div>
<h2 title="Class Reconstruction" class="title">Class Reconstruction</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>algorithms.imageProcessing.transform.Reconstruction</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">Reconstruction</span>
extends java.lang.Object</pre>
<div class="block">given correspondence between two images calculate the camera
 parameters as intrinsic and extrinsic parameters,
 and the real world position.
 
 Euler rotations:
        
        about z-axis (yaw):           about x-axis (roll):       about the y-axis (pitch):
            | cos φ   -sin φ    0 |    |    1       0       0 |  |  cos ψ    0  sin ψ |
            | sin φ    cos φ    0 |    |    0   cos θ   sin θ |  |      0    1      0 |
            |     0        0    1 |    |    0  -sin θ   cos θ |  | -sin ψ    0  cos ψ |        
        
 useful reading:
 <pre>
 http://www.cs.cmu.edu/~16385/s17/Slides/12.5_Reconstruction.pdf
 add other references here
 </pre></div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>nichole</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../algorithms/imageProcessing/transform/Reconstruction.OrthographicProjectionResults.html" title="class in algorithms.imageProcessing.transform">Reconstruction.OrthographicProjectionResults</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../algorithms/imageProcessing/transform/Reconstruction.ParaperspectiveProjectionResults.html" title="class in algorithms.imageProcessing.transform">Reconstruction.ParaperspectiveProjectionResults</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../algorithms/imageProcessing/transform/Reconstruction.ProjectionResults.html" title="class in algorithms.imageProcessing.transform">Reconstruction.ProjectionResults</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../algorithms/imageProcessing/transform/Reconstruction.ReconstructionResults.html" title="class in algorithms.imageProcessing.transform">Reconstruction.ReconstructionResults</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../algorithms/imageProcessing/transform/Reconstruction.html#Reconstruction--">Reconstruction</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>(package private) static <a href="../../../algorithms/imageProcessing/transform/Reconstruction.OrthographicProjectionResults.html" title="class in algorithms.imageProcessing.transform">Reconstruction.OrthographicProjectionResults</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../algorithms/imageProcessing/transform/Reconstruction.html#Z:Z_DoNotUseThisCalculateAffineReconstruction-double:A:A-int-">_DoNotUseThisCalculateAffineReconstruction</a></span>(double[][]&nbsp;x,
                                          int&nbsp;mImages)</code>
<div class="block">a look at enforcing orthonormal rotation</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static <a href="../../../algorithms/imageProcessing/transform/Reconstruction.OrthographicProjectionResults.html" title="class in algorithms.imageProcessing.transform">Reconstruction.OrthographicProjectionResults</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../algorithms/imageProcessing/transform/Reconstruction.html#calculateAffineReconstruction-double:A:A-int-">calculateAffineReconstruction</a></span>(double[][]&nbsp;x,
                             int&nbsp;mImages)</code>
<div class="block">NOTE: not ready for use yet.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static <a href="../../../algorithms/imageProcessing/transform/Reconstruction.ParaperspectiveProjectionResults.html" title="class in algorithms.imageProcessing.transform">Reconstruction.ParaperspectiveProjectionResults</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../algorithms/imageProcessing/transform/Reconstruction.html#calculateParaperspectiveReconstruction-double:A:A-int-">calculateParaperspectiveReconstruction</a></span>(double[][]&nbsp;x,
                                      int&nbsp;mImages)</code>
<div class="block">TODO: proof read the algorithm and write test for this.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static <a href="../../../algorithms/imageProcessing/transform/Reconstruction.ProjectionResults.html" title="class in algorithms.imageProcessing.transform">Reconstruction.ProjectionResults</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../algorithms/imageProcessing/transform/Reconstruction.html#calculateProjectiveReconstruction-double:A:A-double:A:A-">calculateProjectiveReconstruction</a></span>(double[][]&nbsp;x1,
                                 double[][]&nbsp;x2)</code>
<div class="block">This is also called Projective Structure From Motion for the
 Two-camera case.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static <a href="../../../algorithms/imageProcessing/transform/Reconstruction.ProjectionResults.html" title="class in algorithms.imageProcessing.transform">Reconstruction.ProjectionResults</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../algorithms/imageProcessing/transform/Reconstruction.html#calculateProjectiveReconstruction-double:A:A-int-">calculateProjectiveReconstruction</a></span>(double[][]&nbsp;x,
                                 int&nbsp;mImages)</code>
<div class="block">TODO: proof read the algorithm and write test for this.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static <a href="../../../algorithms/imageProcessing/transform/Reconstruction.ReconstructionResults.html" title="class in algorithms.imageProcessing.transform">Reconstruction.ReconstructionResults</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../algorithms/imageProcessing/transform/Reconstruction.html#calculateReconstruction-algorithms.imageProcessing.transform.Camera.CameraParameters-algorithms.imageProcessing.transform.Camera.CameraParameters-double:A:A-double:A:A-">calculateReconstruction</a></span>(<a href="../../../algorithms/imageProcessing/transform/Camera.CameraParameters.html" title="class in algorithms.imageProcessing.transform">Camera.CameraParameters</a>&nbsp;camera1,
                       <a href="../../../algorithms/imageProcessing/transform/Camera.CameraParameters.html" title="class in algorithms.imageProcessing.transform">Camera.CameraParameters</a>&nbsp;camera2,
                       double[][]&nbsp;x1,
                       double[][]&nbsp;x2)</code>
<div class="block">given 2 sets of correspondence from 2 different images taken from
 2 cameras whose intrinsic and extrinsic parameters are known,
 determine the world scene coordinates of the correspondence points.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>static <a href="../../../algorithms/imageProcessing/transform/Reconstruction.ReconstructionResults.html" title="class in algorithms.imageProcessing.transform">Reconstruction.ReconstructionResults</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../algorithms/imageProcessing/transform/Reconstruction.html#calculateUsingEssentialMatrix-double:A:A-double:A:A-double:A:A-double:A:A-">calculateUsingEssentialMatrix</a></span>(double[][]&nbsp;k1,
                             double[][]&nbsp;k2,
                             double[][]&nbsp;x1,
                             double[][]&nbsp;x2)</code>
<div class="block">given correspondence between two images in image coordinates calculate 
 the extrinsic camera parameters and the 3-D points.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>(package private) static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../algorithms/imageProcessing/transform/Reconstruction.html#populateWithDet1Rs-algorithms.matrix.MatrixUtil.SVDProducts-double:A:A-double:A:A-double:A:A-">populateWithDet1Rs</a></span>(algorithms.matrix.MatrixUtil.SVDProducts&nbsp;svdE,
                  double[][]&nbsp;r1Out,
                  double[][]&nbsp;r2Out,
                  double[][]&nbsp;uOut)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Reconstruction--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Reconstruction</h4>
<pre>public&nbsp;Reconstruction()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="calculateReconstruction-algorithms.imageProcessing.transform.Camera.CameraParameters-algorithms.imageProcessing.transform.Camera.CameraParameters-double:A:A-double:A:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calculateReconstruction</h4>
<pre>public static&nbsp;<a href="../../../algorithms/imageProcessing/transform/Reconstruction.ReconstructionResults.html" title="class in algorithms.imageProcessing.transform">Reconstruction.ReconstructionResults</a>&nbsp;calculateReconstruction(<a href="../../../algorithms/imageProcessing/transform/Camera.CameraParameters.html" title="class in algorithms.imageProcessing.transform">Camera.CameraParameters</a>&nbsp;camera1,
                                                                           <a href="../../../algorithms/imageProcessing/transform/Camera.CameraParameters.html" title="class in algorithms.imageProcessing.transform">Camera.CameraParameters</a>&nbsp;camera2,
                                                                           double[][]&nbsp;x1,
                                                                           double[][]&nbsp;x2)
                                                                    throws no.uib.cipr.matrix.NotConvergedException</pre>
<div class="block">given 2 sets of correspondence from 2 different images taken from
 2 cameras whose intrinsic and extrinsic parameters are known,
 determine the world scene coordinates of the correspondence points.
 This method simply uses triangulation on each correspondence pair.
 <pre>
 following CMU lectures of Kris Kitani at 
 http://www.cs.cmu.edu/~16385/s17/Slides/12.5_Reconstruction.pdf
 
 </pre></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>camera1</code> - image 1 camera matrices of intrinsic and extrinsic parameters.
 the size is 3 x 4.</dd>
<dd><code>camera2</code> - image 2 camera matrices of intrinsic and extrinsic parameters.
 the size is 3 x 4.</dd>
<dd><code>x1</code> - the image 1 set of correspondence points.  format is 3 x N where
 N is the number of points.</dd>
<dd><code>x2</code> - the image 2 set of correspondence points.  format is 3 x N where
 N is the number of points.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the world scene coordinates and the intrinsic and extrinsic
 camera matrices (the later were given to the code, but are convenient to return in results).</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>no.uib.cipr.matrix.NotConvergedException</code></dd>
</dl>
</li>
</ul>
<a name="calculateProjectiveReconstruction-double:A:A-double:A:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calculateProjectiveReconstruction</h4>
<pre>public static&nbsp;<a href="../../../algorithms/imageProcessing/transform/Reconstruction.ProjectionResults.html" title="class in algorithms.imageProcessing.transform">Reconstruction.ProjectionResults</a>&nbsp;calculateProjectiveReconstruction(double[][]&nbsp;x1,
                                                                                 double[][]&nbsp;x2)
                                                                          throws no.uib.cipr.matrix.NotConvergedException</pre>
<div class="block">This is also called Projective Structure From Motion for the
 Two-camera case.   it's a distorted version of euclidean 3d.
 
 NOTE that because the camera calibration, that is, intrinsic parameters,
 are not known, only the projective reconstruction is possible,
 but this can be upgraded to 
     affine (parallelism preserved) and Euclidean (parallelism and orthogonality preserved) 
     reconstructions.
     To upgrade to an affine projection, need 3 vanishing points
     (see Section 9.2.2 of Belongie lec 9).
     To directly upgrade from projective to euclidean projection, need
     5 ground truth points in general position, that is, no 4 points
     are coplanar (see Section 9.3 of Belongie lec 9).
 NOTE: this solution is fine for cases with no noise, otherwise, the
 results should be the initial values for a non-linear optimization method.
     
 The method uses the fundamental matrix to compute the camera matrices P1, P2
 and then uses triangulation on each correspondence pair.
 
 <pre>
 following CMU lectures of Kris Kitani at 
 http://www.cs.cmu.edu/~16385/s17/Slides/12.5_Reconstruction.pdf
 
 other references:
 Sect 7.2.1 of Szeliski 2010
 </pre></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>x1</code> - the image 1 set of correspondence points.  format is 3 x N where
 N is the number of points.
 NOTE: since intrinsic parameters are not known, users of this method should 
 presumably center the coordinates in some manner 
 (e.g. subtract the image center or centroid of points) since internally
 an identity matrix is used for K.</dd>
<dd><code>x2</code> - the image 2 set of correspondence points.  format is 3 x N where
 N is the number of points.
 NOTE: since intrinsic parameters are not known, users of this method should 
 presumably center the coordinates in some manner 
 (e.g. subtract the image center or centroid of points).</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the estimated projections P1 and P2 and the objects locations as 3-D points;</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>no.uib.cipr.matrix.NotConvergedException</code></dd>
</dl>
</li>
</ul>
<a name="calculateProjectiveReconstruction-double:A:A-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calculateProjectiveReconstruction</h4>
<pre>public static&nbsp;<a href="../../../algorithms/imageProcessing/transform/Reconstruction.ProjectionResults.html" title="class in algorithms.imageProcessing.transform">Reconstruction.ProjectionResults</a>&nbsp;calculateProjectiveReconstruction(double[][]&nbsp;x,
                                                                                 int&nbsp;mImages)
                                                                          throws no.uib.cipr.matrix.NotConvergedException</pre>
<div class="block">TODO: proof read the algorithm and write test for this.
 for the case of un-calibrated cameras viewing the same scene features,
 recover the 3-D coordinates in WCS and the projection matrices 
 from pairs of corresponding
 un-calibrated image points, that is, points in the image reference frame in pixels.
 
 The method implements the Sturm & Triggs 1996 algorithm: 
     "a method for the recovery of projective shape and motion from multiple 
     images of a scene by the factorization of a matrix containing the images 
     of all points in all views. This factorization is only possible when the
     image points are correctly scaled. The major technical contribution of 
     this paper is a practical method for the recovery of these scalings, 
     using only fundamental matrices and epipoles estimated from the image data."
     "[it is a] closed form solutions, not iterative bundle-adjustment..."
 <pre>
 references:
 
 Sturm and Triggs 1996, 
    "A Factorization Based Algorithm for Multi-Image Projective Structure and Motion"
     https://link.springer.com/content/pdf/10.1007/3-540-61123-1_183.pdf
    
    see also proj_recons_fsvd.m from http://lear.inrialpes.fr/people/triggs/src/
    which has a very liberal copyright in the file COPYRIGHT
    Copyright Bill Triggs (http://www.inrialpes.fr/movi/people/Triggs),
    INRIA (http://www.inria.fr) and CNRS (http://www.cnrs.fr),
    1995-2002. All rights reserved.

    You may use and distribute [*] this work with or without modification,
    for any purpose and without fee or royalty, subject to the following
    conditions:
       (see file COPYRIGHT)
    
 </pre>
 
 NOTE: Sturm & Triggs 1996 state in their code, "% The projective output 
     frame is numerically well-conditioned, but otherwise *completely* 
     arbitrary. It has *no* relation to any Euclidean frame.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>x</code> - the image coordinates of feature correspondences in 2 or more
 images.  format is 2 X (nImages * nFeatures) where row 0 holds the x-coordinates
 and row 1 holds the y-coordinates and each image's features are given
 before the next and the features are ordered in the same manner within
 all images.
 for example: row 0 = [img_0_feature_0, ... img_0_feature_n-1, ... img_m-1_feature_0,...
     img_m-1_feature_n-1].</dd>
<dd><code>mImages</code> - the number of images in x.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the estimated projections P1 and P2 and the objects locations as 3-D points;</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>no.uib.cipr.matrix.NotConvergedException</code></dd>
</dl>
</li>
</ul>
<a name="calculateUsingEssentialMatrix-double:A:A-double:A:A-double:A:A-double:A:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calculateUsingEssentialMatrix</h4>
<pre>public static&nbsp;<a href="../../../algorithms/imageProcessing/transform/Reconstruction.ReconstructionResults.html" title="class in algorithms.imageProcessing.transform">Reconstruction.ReconstructionResults</a>&nbsp;calculateUsingEssentialMatrix(double[][]&nbsp;k1,
                                                                                 double[][]&nbsp;k2,
                                                                                 double[][]&nbsp;x1,
                                                                                 double[][]&nbsp;x2)
                                                                          throws no.uib.cipr.matrix.NotConvergedException</pre>
<div class="block">given correspondence between two images in image coordinates calculate 
 the extrinsic camera parameters and the 3-D points.
 
 This method calculates the essential matrix and uses the SVD of it to
 extract the translation and possible rotation matrices which are
 filtered to find the best while calculating triangulation for each point.
 
 Note that the absolute translation between the two cameras can never be 
 recovered from pure image measurements alone, regardless of how many 
 cameras or points are used as ground control points are
 needed.
 <pre>
 following CMU lectures of Kris Kitani at 
     http://www.cs.cmu.edu/~16385/s17/Slides/12.5_Reconstruction.pdf
     Szeliski 2010, Chapter 7, and eqn (7.25).
     Ma, Soatto, Kosecká, and Sastry 2012, "An Invitation to 3-D Vision", pg 121 
 </pre></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>k1</code> - intrinsic camera matrix for image 1 in units of pixels.</dd>
<dd><code>k2</code> - intrinsic camera matrix for image 2 in units of pixels.</dd>
<dd><code>x1</code> - the image 1 set of correspondence points in image reference frame.  
 format is 3 x N where N is the number of points.</dd>
<dd><code>x2</code> - the image 2 set of correspondence points in image reference frame.  
 format is 3 x N where N is the number of points.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>no.uib.cipr.matrix.NotConvergedException</code></dd>
</dl>
</li>
</ul>
<a name="calculateAffineReconstruction-double:A:A-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calculateAffineReconstruction</h4>
<pre>public static&nbsp;<a href="../../../algorithms/imageProcessing/transform/Reconstruction.OrthographicProjectionResults.html" title="class in algorithms.imageProcessing.transform">Reconstruction.OrthographicProjectionResults</a>&nbsp;calculateAffineReconstruction(double[][]&nbsp;x,
                                                                                         int&nbsp;mImages)
                                                                                  throws no.uib.cipr.matrix.NotConvergedException</pre>
<div class="block">NOTE: not ready for use yet.
 
 TODO: proof read the algorithm and write test for this.
 for the case where the cameras are viewing small, distant scenes,
 recover the 3-D coordinates in WCS and the rotation matrices 
 from pairs of corresponding
 un-calibrated image points, that is, points in the image reference frame in pixels.
 assumes an orthographic camera model.
 can use the orthographic camera model when
    (the average distance of an object from the camera) 
     .geq. 10*(the average width of the object (measured along the optical axis of the camera).
 <pre>
 references:
 
 lecture 16 notes from Serge Belongie lectures from Computer Vision II, CSE 252B, USSD
 http://www-cse.ucsd.edu/classes/sp04/cse252b/notes/lec16/lec16.pdf
 
 lectures of Deva Ramanan at http://16720.courses.cs.cmu.edu/lec/sfm.pdf
 .:w
 
 Tomasi & Kanade 1991, "Shape and motion from image streams under 
 orthography: a factorization method", International journal of computer vision 
 
  Morita and Kanade 1997 for solving Q.
         T. Morita and T. Kanade, A Sequential Factorization Method for Recovering Shape and Motion
         from Image Streams, Pattern Analysis and Machine Intelligence, IEEE Transactions on, vol. 19,
         no.8, pp.858-867, Aug 1997  (1994?)
         
 Higham, 1988, “Computing a Nearest Symmetric Positive Semidefinite Matrix,” 
    Linear Algebra and Appl., 103:103-118, 1988
 
 a great summary of the above:
 http://note.sonots.com/SciSoftware/Factorization.html#cse252b
 http://note.sonots.com/?plugin=attach&refer=SciSoftware%2FFactorization&openfile=Factorization.pdf
 
 and a derivation of the geometry of the tracking equation:
 Birchfield 1997, "Derivation of Kanade-Lucas-Tomasi Tracking Equation"
 http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.185.413&rep=rep1&type=pdf
 </pre>
 NOTE: could overload this method to enable handling of occlusion 
 following Section 5 of Tomasi & Kanade 1991, but might want to alter the
 algorithm to use geometric median in place of centroid so that the
 "centers" are not as affected by removing or adding a point.
 NOTE: comments from Poelman & Kanade 1992:
 Orthographic projection does not account for the apparent change in size 
 of an object as it moves toward or away from the camera, nor the different 
 angle from which an object is viewed as it moves parallel to the image plane.
 NOTE: consider implementing Section 3.3 Sequential Factorization Algorithm
 from the Morita & Kanade 1997 paper (1994?)</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>x</code> - the image coordinates of feature correspondences in 2 or more
 images.  format is 2 X (nImages * nFeatures) where row 0 holds the x-coordinates
 and row 1 holds the y-coordinates and each image's features are given
 before the next and the features are ordered in the same manner within
 all images.
 for example: row 0 = [img_0_feature_0, ... img_0_feature_n-1, ... img_m-1_feature_0,...
     img_m-1_feature_n-1].</dd>
<dd><code>mImages</code> - the number of images in x.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the estimated projections P1 and P2 and the objects locations as 3-D points;</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>no.uib.cipr.matrix.NotConvergedException</code></dd>
</dl>
</li>
</ul>
<a name="Z:Z_DoNotUseThisCalculateAffineReconstruction-double:A:A-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_DoNotUseThisCalculateAffineReconstruction</h4>
<pre>static&nbsp;<a href="../../../algorithms/imageProcessing/transform/Reconstruction.OrthographicProjectionResults.html" title="class in algorithms.imageProcessing.transform">Reconstruction.OrthographicProjectionResults</a>&nbsp;_DoNotUseThisCalculateAffineReconstruction(double[][]&nbsp;x,
                                                                                               int&nbsp;mImages)
                                                                                        throws no.uib.cipr.matrix.NotConvergedException</pre>
<div class="block">a look at enforcing orthonormal rotation</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>x</code> - </dd>
<dd><code>mImages</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>no.uib.cipr.matrix.NotConvergedException</code></dd>
</dl>
</li>
</ul>
<a name="calculateParaperspectiveReconstruction-double:A:A-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calculateParaperspectiveReconstruction</h4>
<pre>public static&nbsp;<a href="../../../algorithms/imageProcessing/transform/Reconstruction.ParaperspectiveProjectionResults.html" title="class in algorithms.imageProcessing.transform">Reconstruction.ParaperspectiveProjectionResults</a>&nbsp;calculateParaperspectiveReconstruction(double[][]&nbsp;x,
                                                                                                     int&nbsp;mImages)
                                                                                              throws no.uib.cipr.matrix.NotConvergedException</pre>
<div class="block">TODO: proof read the algorithm and write test for this.
 for the case where the cameras are viewing small, distant scenes,
 recover the 3-D coordinates in WCS and the projection matrices 
 from pairs of corresponding
 un-calibrated image points, that is, points in the image reference frame in pixels.
 assumes a para-perspective camera model.

 <pre>
 references:
 
 Poelman & Kanade 1997, "A Paraperspective Factorization Method for Shape 
 and Motion Recovery" 
 
 </pre></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>x</code> - the image coordinates of feature correspondences in 2 or more
 images.  format is 2 X (nImages * nFeatures) where row 0 holds the x-coordinates
 and row 1 holds the y-coordinates and each image's features are given
 before the next and the features are ordered in the same manner within
 all images.
 for example: row 0 = [img_0_feature_0, ... img_0_feature_n-1, ... img_m-1_feature_0,...
     img_m-1_feature_n-1].</dd>
<dd><code>mImages</code> - the number of images in x.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the estimated projections P1 and P2 and the objects locations as 3-D points;</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>no.uib.cipr.matrix.NotConvergedException</code></dd>
</dl>
</li>
</ul>
<a name="populateWithDet1Rs-algorithms.matrix.MatrixUtil.SVDProducts-double:A:A-double:A:A-double:A:A-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>populateWithDet1Rs</h4>
<pre>static&nbsp;void&nbsp;populateWithDet1Rs(algorithms.matrix.MatrixUtil.SVDProducts&nbsp;svdE,
                               double[][]&nbsp;r1Out,
                               double[][]&nbsp;r2Out,
                               double[][]&nbsp;uOut)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../algorithms/imageProcessing/transform/PNP.html" title="class in algorithms.imageProcessing.transform"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../algorithms/imageProcessing/transform/Reconstruction.OrthographicProjectionResults.html" title="class in algorithms.imageProcessing.transform"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?algorithms/imageProcessing/transform/Reconstruction.html" target="_top">Frames</a></li>
<li><a href="Reconstruction.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
